### 最佳连续子数组

给定一个长度为 n 的数组 a1,a2,…,an。

请你找到其中的最佳**连续**子数组。

最佳连续子数组需满足：

1. 子数组内各元素的算术平均数（即所有元素之和除以元素个数）尽可能大。
2. 满足条件 11 的前提下，子数组的长度尽可能长。

输出最佳连续子数组的长度。

**输入格式**：

第一行包含整数 T，表示共有 T 组测试数据。

每组数据，第一行包含整数 nn。

第二行包含 n 个整数 a1,a2,…,an。

**输出格式**：

每组数据输出一行结果，表示最佳连续子数组的长度。

**数据范围**：

$1<T<20$

$1<=n<=10^5$​

$0<=a_i<=10^9$​

**输入样例**：

```
1
5
6 1 6 6 0
```

**输出样例**：

```
2
```



### 思路：

首先我们都知道，一个序列的平均值一定大于该序列的最小值，小于该序列的最大值，我们题目要求的子序列首先必须满足平均值最大，所以整个序列的最大值应该在要求的子数组中，比如

```
6 1 6 6 0
```

最大值是6，加入序列中，那我们还可以加数嘛？首先他已经是最大的了，往后只能加小于等于她的数，加小于他的数，这时候6最大，加小于他的数，平均数必定小于6，所以不能加小于最大值的数，只能加和最大值相等的数。



代码：

```c
#include<bits/stdc++.h>
using namespace std;

int a[1000010];

int main(){
	int T;
	cin>>T;
	while(T--){
		int n;
		cin>>n;
		int mx=0;
		for(int i=1;i<=n;i++){
			cin>>a[i];
			mx=max(mx,a[i]);
		}int ans=0;
		for(int i=1;i<=n;i++){
			int cnt=0;
			while(a[i]==mx&&i<=n) cnt++,i++;
			ans=max(ans,cnt);
		}
		cout<<ans<<endl;
	}
}

```

